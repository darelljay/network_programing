<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ex01.Node관계 연습</title>
  <style>
    body {
      background-color: aliceblue;
    }

    li {
      line-height: 30px;
    }

    .list_style {
      background-color: aqua;
    }
  </style>
</head>

<body>
  <h1 class="title">Node관계 연습</h1>
  <div class="container">
    <div class="library">
      <p id="one" class="book">1번</p>
      <p id="two" class="book">2번</p>
    </div>
    <ul id="tutorial">
      <li class="html">HTML</li>
      <li class="css">CSS</li>
      <li class="css3">CSS3</li>
      <li class="javascript">JavaScript</li>
      <li class="jquery">jQuery</li>
    </ul>
    <input type="button" value="childNodes">
    <input type="button" value="children">
    <input type="button" value="모든 li태그를 빨간색">
    <p id="result"></p>
  </div>
  <script>
    const library = document.querySelector(".library");
    const btns = document.querySelectorAll("input");
    const tuto = document.querySelector("#tutorial");
    const tutorial = [document.querySelector("#tutorial")];
    const p = document.querySelector("#result");
    let text;
    //childNodes 프로퍼티
    // 부모노드.childNodes
    // - NodeList 설정, node 설정, #text노드 설정 
    
    const library_nodes = library.childNodes;
    console.log("1",library_nodes);
    console.log("2. childnodes길이: ",library_nodes.length);

    // => childeNodes 프로퍼티를 펼치면 5개의 노드가 표시됨 
    // 1,3 은 element 노드 
    // 태그안 줄바꿈까지 text로 처리되어 반환되므로 0,2,4,dms #text노드 

    //  children 프로퍼티
    //  부모노드.children
    //  htmlCollection 설정, element 설정, #text 노드 재외

    const library_els = library.children;
    console.log("1",library_els);
//  => children 프로퍼티를 펼치면 2개의 노드가 표시됨(0,1)
//  text노드를 제외하므로 0,1은 element 노드 
    btns.forEach(element=>{
      element.addEventListener("click",()=>{
        if(element.value === "childNodes"){
          
          for(let tut in tuto.childNodes){
            text += tuto.childNodes[tut].nodeName + "<br>";
          }
          p.innerHTML += text
      }else if(element.value === "children"){
        for(let tut in tuto.children){
            text += tuto.children[tut].nodeName + "<br>";
          }
          p.innerHTML += text
      }else{
        for(let tu of tutorial){
          tu.setAttribute("style","background-color:red");
        }
      }
      });
    });

    // 처번째 li 태그를 가져옴
    const first_li = document.querySelector(".html");
    console.log(first_li);
    const li_node = first_li.parentNode;
    console.log(li_node);
    const li_el = first_li.parentElement;
    console.log(li_el);

    console.log(document.documentElement.parentElement);
    console.log(document.documentElement.parentNode);

    // 하위 접근
    // 첫번쨰 위치 프로퍼티 
    console.log("tutorail의 첫번쨰 자식노드: ",tuto.firstChild);
    console.log("tutorial의 첫번쨰 자식요소: ",tuto.firstElementChild);

    //이전 형제 위치 프로퍼티
    const jquery = document.querySelector(".jquery");
    console.log("jquery의 이전 형제노드: ",jquery.previousSibling);
    console.log("jquery의 이전 형제요소노드: ",jquery.previousElementSibling);
  </script>
</body>
</html>